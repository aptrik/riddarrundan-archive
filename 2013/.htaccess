AddDefaultCharset UTF-8
AddType 'text/css; charset=UTF-8' css
AddType 'application/x-javascript; charset=UTF-8' js


<IfModule mod_rewrite.c>
  RewriteEngine Off
</IfModule>


<ifModule mod_gzip.c>
  mod_gzip_on Yes
  mod_gzip_dechunk Yes

  mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include file \.(html|css|ttf)$
  mod_gzip_item_include mime ^application/x-javascript.*

  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule>


#<ifModule mod_deflate.c>
#  <filesMatch "\.(html|css|js|ttf)$">
#    SetOutputFilter DEFLATE
#  </filesMatch>
#</ifModule>


<IfModule mod_headers.c>

<FilesMatch "\.(js|css|ttf)$">
  Header append Vary: Accept-Encoding
</FilesMatch>

<FilesMatch "\.(ttf|ico|jpeg|jpg|png|gif|js|css)$">
  Header unset Last-Modified
</FilesMatch>

<FilesMatch "\.(ttf|ico|jpeg|jpg|png|gif|js|css)$">
  # 480 weeks
  Header set Cache-Control "max-age=290304000, public"
</FilesMatch>

<FilesMatch "\.(html)$">
  Header set Cache-Control "max-age=172800, public, must-revalidate"
</FilesMatch>

</IfModule>
